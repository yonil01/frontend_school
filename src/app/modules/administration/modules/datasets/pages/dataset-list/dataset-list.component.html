<app-layout *ngIf="showDatasets">
  <ng-container layoutBody>
    <div class="ec-container pb-12 space-y-6 bg-white" style="min-height: calc(100vh - 3rem)">
      <div class="migas-pan w-full text-brand-2 space-x-2 h-12 flex items-center">
        <svg routerLink="/wizard" class="fill-current cursor-pointer" xmlns="http://www.w3.org/2000/svg" width="24"
             height="24" viewBox="0 0 24 24" fill="none">
          <path
            d="M10.5495 2.53214C11.3874 1.82555 12.6126 1.82555 13.4505 2.53214L20.2005 8.22425C20.7074 8.65176 21 9.28115 21 9.94431V19.7471C21 20.7136 20.2165 21.4971 19.25 21.4971H15.75C14.7835 21.4971 14 20.7136 14 19.7471V14.2471C14 14.109 13.8881 13.9971 13.75 13.9971H10.25C10.1119 13.9971 9.99999 14.109 9.99999 14.2471V19.7471C9.99999 20.7136 9.2165 21.4971 8.25 21.4971H4.75C3.7835 21.4971 3 20.7136 3 19.7471V9.94431C3 9.28115 3.29255 8.65176 3.79952 8.22425L10.5495 2.53214ZM12.4835 3.67884C12.2042 3.44331 11.7958 3.44331 11.5165 3.67884L4.76651 9.37095C4.59752 9.51346 4.5 9.72325 4.5 9.94431V19.7471C4.5 19.8851 4.61193 19.9971 4.75 19.9971H8.25C8.38807 19.9971 8.49999 19.8851 8.49999 19.7471V14.2471C8.49999 13.2806 9.2835 12.4971 10.25 12.4971H13.75C14.7165 12.4971 15.5 13.2806 15.5 14.2471V19.7471C15.5 19.8851 15.6119 19.9971 15.75 19.9971H19.25C19.3881 19.9971 19.5 19.8851 19.5 19.7471V9.94431C19.5 9.72325 19.4025 9.51346 19.2335 9.37095L12.4835 3.67884Z"/>
        </svg>
        <div class="miga flex flex-row items-center space-x-2">
          <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16">
            <path
              d="M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z"/>
          </svg>
          <span routerLink="/wizard" class="t-body-2 cursor-pointer">Nombre Cliente</span>
        </div>
        <div class="miga flex flex-row items-center space-x-2">
          <svg class="fill-current" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 16 16"
               fill="none">
            <path
              d="M5.64645 3.14645C5.45118 3.34171 5.45118 3.65829 5.64645 3.85355L9.79289 8L5.64645 12.1464C5.45118 12.3417 5.45118 12.6583 5.64645 12.8536C5.84171 13.0488 6.15829 13.0488 6.35355 12.8536L10.8536 8.35355C11.0488 8.15829 11.0488 7.84171 10.8536 7.64645L6.35355 3.14645C6.15829 2.95118 5.84171 2.95118 5.64645 3.14645Z"/>
          </svg>
          <span routerLink="/wizard" class="t-body-2 cursor-pointer">Nombre Proyecto</span>
        </div>
      </div>

      <div class="space-y-12">
        <div class="space-y-6">
          <div class="space-y-2">
            <div class="text-2xl text-black">Dataset's</div>
            <div>
              <ul class="t-body-1 pl-4">
                <li class="list-disc text-mono-70">25 datasets registrados actualmente.</li>
                <!--<li class="list-disc text-mono-70">Último registro el 24/04/2021 13:04:02</li>-->
              </ul>
            </div>
          </div>
          <div>
            <button (click)="onCreateDataset()" class="w-full md:w-auto bg-brand-2 text-white t-button-2 h-10 rounded">
              Crear Dataset
            </button>
          </div>
        </div>
        <div class="data space-y-4">
          <div><input class="w-full h-10 px-2 rounded t-body-2 bg-mono-10 text-black" type="text"
                      placeholder="Buscar entidad"></div>
          <div class="table-v md:hidden flex flex-col space-y-4">
            <div class="shadow-lg flex flex-col w-full space-y-2 px-6 py-4 border border-mono-30 rounded">
              <span class="text-mono-70 t-caption-1">N° 1</span>
              <div class="flex flex-col">
                <span class="text-mono-70 t-caption-2">Nombre</span>
                <span class="text-black t-body-1">estado_civil</span>
              </div>
              <div class="flex flex-col">
                <span class="text-mono-70 t-caption-2">Descripción</span>
                <span class="text-black t-body-1">Estado Civil</span>
              </div>
              <div class="flex flex-col">
                <span class="text-mono-70 t-caption-2">Tipo de Campo</span>
                <span class="text-black t-body-1">varchar</span>
              </div>
              <div class="border-t pt-2 border-mono-30 w-full flex flex-row">
                <button class="w-full text-alert-info px-2 h-10 hover:bg-mono-10">
                  <div>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M21.0303 2.96967C22.4278 4.36713 22.4278 6.63286 21.0303 8.03033L9.06198 19.9987C8.7851 20.2755 8.44076 20.4754 8.063 20.5784L2.94731 21.9736C2.38744 22.1263 1.87371 21.6125 2.0264 21.0527L3.42159 15.937C3.52462 15.5592 3.72444 15.2149 4.00132 14.938L15.9696 2.96967C17.3671 1.5722 19.6328 1.5722 21.0303 2.96967ZM15.0001 6.06057L5.06198 15.9987C4.96969 16.0909 4.90308 16.2057 4.86874 16.3316L3.81889 20.1811L7.66833 19.1312C7.79425 19.0969 7.90903 19.0303 8.00132 18.938L17.9391 8.99957L15.0001 6.06057ZM17.0303 4.03033L16.0601 4.99957L18.9991 7.93957L19.9696 6.96967C20.7813 6.15799 20.7813 4.842 19.9696 4.03033C19.158 3.21865 17.842 3.21865 17.0303 4.03033Z"/>
                    </svg>
                  </div>
                </button>
                <button class="w-full text-alert-warning px-2 h-10 hover:bg-mono-10">
                  <div>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M12.0124 2.25005C12.7464 2.25851 13.4775 2.34331 14.1939 2.50309C14.5067 2.57283 14.7406 2.83356 14.7761 3.15201L14.9463 4.67886C15.0233 5.37991 15.6152 5.91089 16.3209 5.91163C16.5105 5.91193 16.6982 5.87243 16.8734 5.79488L18.2741 5.17961C18.5654 5.05164 18.9057 5.12141 19.1232 5.35367C20.1354 6.43469 20.8892 7.7312 21.3279 9.14563C21.4225 9.45063 21.3137 9.78208 21.0566 9.97155L19.8151 10.8866C19.461 11.1468 19.2518 11.5601 19.2518 11.9995C19.2518 12.439 19.461 12.8522 19.8159 13.1129L21.0585 14.0283C21.3156 14.2178 21.4246 14.5493 21.3299 14.8543C20.8914 16.2685 20.138 17.5649 19.1264 18.6461C18.9091 18.8784 18.569 18.9483 18.2777 18.8207L16.8714 18.2046C16.4691 18.0285 16.007 18.0543 15.6268 18.274C15.2466 18.4938 14.9935 18.8812 14.9452 19.3178L14.7761 20.8445C14.7413 21.1593 14.5124 21.4182 14.2043 21.4915C12.7558 21.8362 11.2467 21.8362 9.79828 21.4915C9.49015 21.4182 9.26129 21.1593 9.22643 20.8445L9.0576 19.32C9.00802 18.8843 8.75459 18.498 8.37467 18.279C7.99475 18.06 7.53345 18.0343 7.13244 18.2094L5.72582 18.8257C5.43446 18.9533 5.09428 18.8833 4.87703 18.651C3.86487 17.5685 3.11144 16.2706 2.67344 14.8548C2.57911 14.5499 2.68811 14.2187 2.94509 14.0293L4.18842 13.1134C4.54256 12.8532 4.75172 12.44 4.75172 12.0005C4.75172 11.5611 4.54256 11.1478 4.18796 10.8873L2.94541 9.9729C2.68804 9.7835 2.57894 9.45183 2.67361 9.14663C3.11236 7.7322 3.86619 6.43569 4.87837 5.35467C5.09584 5.12241 5.43618 5.05264 5.72749 5.18061L7.12786 5.79577C7.53081 5.97261 7.99404 5.9459 8.37601 5.72274C8.75633 5.50214 9.00953 5.11427 9.05841 4.67769L9.22849 3.15201C9.26401 2.8334 9.49811 2.57259 9.81105 2.50299C10.5283 2.34347 11.2602 2.2587 12.0124 2.25005ZM12.0126 3.74995C11.5586 3.75529 11.1058 3.79448 10.6581 3.86706L10.5491 4.84423C10.4473 5.75373 9.92028 6.56107 9.13066 7.01908C8.33622 7.48322 7.36761 7.53908 6.52483 7.16922L5.62654 6.77461C5.0546 7.46878 4.59938 8.2514 4.27877 9.09173L5.07656 9.67884C5.81537 10.2217 6.25172 11.0837 6.25172 12.0005C6.25172 12.9173 5.81537 13.7793 5.07734 14.3216L4.27829 14.9103C4.59863 15.7521 5.05392 16.5362 5.62625 17.2317L6.53138 16.8351C7.36947 16.4692 8.33149 16.5228 9.12377 16.9795C9.91606 17.4362 10.4446 18.2418 10.5482 19.1527L10.6572 20.1365C11.5468 20.2878 12.4557 20.2878 13.3453 20.1365L13.4543 19.1527C13.5551 18.2421 14.083 17.4337 14.8762 16.9753C15.6695 16.5169 16.6334 16.4631 17.473 16.8305L18.3775 17.2267C18.9493 16.5323 19.4044 15.7495 19.7249 14.909L18.927 14.3212C18.1882 13.7783 17.7518 12.9163 17.7518 11.9995C17.7518 11.0827 18.1882 10.2207 18.9261 9.67852L19.7229 9.09114C19.4023 8.25066 18.947 7.46789 18.375 6.77361L17.4785 7.16742C17.1132 7.32906 16.718 7.41225 16.3189 7.41163C14.8492 7.41009 13.6158 6.3036 13.4554 4.84388L13.3464 3.86675C12.9009 3.79425 12.4529 3.75517 12.0126 3.74995ZM11.9999 8.25C14.071 8.25 15.7499 9.92893 15.7499 12C15.7499 14.0711 14.071 15.75 11.9999 15.75C9.92887 15.75 8.24994 14.0711 8.24994 12C8.24994 9.92893 9.92887 8.25 11.9999 8.25ZM11.9999 9.75C10.7573 9.75 9.74994 10.7574 9.74994 12C9.74994 13.2426 10.7573 14.25 11.9999 14.25C13.2426 14.25 14.2499 13.2426 14.2499 12C14.2499 10.7574 13.2426 9.75 11.9999 9.75Z"/>
                    </svg>
                  </div>
                </button>
                <button class="w-full text-alert-error px-2 h-10 hover:bg-mono-10">
                  <div>
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                      <path
                        d="M12 1.75C13.733 1.75 15.1492 3.10645 15.2449 4.81558L15.25 5H20.5C20.9142 5 21.25 5.33579 21.25 5.75C21.25 6.1297 20.9678 6.44349 20.6018 6.49315L20.5 6.5H19.704L18.4239 19.5192C18.2912 20.8683 17.1984 21.91 15.8626 21.9945L15.6871 22H8.31293C6.95734 22 5.81365 21.0145 5.59883 19.6934L5.57614 19.5192L4.295 6.5H3.5C3.1203 6.5 2.80651 6.21785 2.75685 5.85177L2.75 5.75C2.75 5.3703 3.03215 5.05651 3.39823 5.00685L3.5 5H8.75C8.75 3.20507 10.2051 1.75 12 1.75ZM18.197 6.5H5.802L7.06893 19.3724C7.12768 19.9696 7.60033 20.4343 8.18585 20.4936L8.31293 20.5H15.6871C16.2872 20.5 16.7959 20.0751 16.9123 19.4982L16.9311 19.3724L18.197 6.5ZM13.75 9.25C14.1297 9.25 14.4435 9.53215 14.4932 9.89823L14.5 10V17C14.5 17.4142 14.1642 17.75 13.75 17.75C13.3703 17.75 13.0565 17.4678 13.0068 17.1018L13 17V10C13 9.58579 13.3358 9.25 13.75 9.25ZM10.25 9.25C10.6297 9.25 10.9435 9.53215 10.9932 9.89823L11 10V17C11 17.4142 10.6642 17.75 10.25 17.75C9.8703 17.75 9.55651 17.4678 9.50685 17.1018L9.5 17V10C9.5 9.58579 9.83579 9.25 10.25 9.25ZM12 3.25C11.0818 3.25 10.3288 3.95711 10.2558 4.85647L10.25 5H13.75C13.75 4.0335 12.9665 3.25 12 3.25Z"/>
                    </svg>
                  </div>
                </button>
              </div>
            </div>
          </div>
          <div class="table-h hidden md:block w-full">
            <div class="table-head border-b border-brand-2 flex flex-row t-caption-1 text-brand-2">
              <div class="p-2 w-16">N°</div>
              <div class="p-2 flex-1">Nombre</div>
              <div class="p-2 flex-1">Descripción</div>
              <div class="p-2 flex-1">Tipo de Campo</div>
              <div class="p-2 w-32">Opciones</div>
            </div>
            <div class="table-body text-body-2 text-mono-70">
              <div class="item w-full flex flex-row" *ngFor="let dataset of datasets, let i = index">
                <div class="flex items-center p-2 w-16">{{i + 1}}</div>
                <div class="flex items-center p-2 flex-1 break-all">{{dataset.name}}</div>
                <div class="flex items-center p-2 flex-1 break-all">{{dataset.description}}</div>
                <div class="flex items-center p-2 flex-1 break-all">{{dataset.field_type}}</div>
                <div class="flex items-center p-2 w-32">
                  <div class="w-full flex flex-row">
                    <button (click)="onEditDataset(i)" class="w-10 text-alert-info px-2 h-10 hover:bg-mono-10">
                      <div>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M21.0303 2.96967C22.4278 4.36713 22.4278 6.63286 21.0303 8.03033L9.06198 19.9987C8.7851 20.2755 8.44076 20.4754 8.063 20.5784L2.94731 21.9736C2.38744 22.1263 1.87371 21.6125 2.0264 21.0527L3.42159 15.937C3.52462 15.5592 3.72444 15.2149 4.00132 14.938L15.9696 2.96967C17.3671 1.5722 19.6328 1.5722 21.0303 2.96967ZM15.0001 6.06057L5.06198 15.9987C4.96969 16.0909 4.90308 16.2057 4.86874 16.3316L3.81889 20.1811L7.66833 19.1312C7.79425 19.0969 7.90903 19.0303 8.00132 18.938L17.9391 8.99957L15.0001 6.06057ZM17.0303 4.03033L16.0601 4.99957L18.9991 7.93957L19.9696 6.96967C20.7813 6.15799 20.7813 4.842 19.9696 4.03033C19.158 3.21865 17.842 3.21865 17.0303 4.03033Z"
                            fill="#0150E5"/>
                        </svg>
                      </div>
                    </button>
                    <button (click)="onConfigDataset(i)" class="w-10 text-alert-warning px-2 h-10 hover:bg-mono-10">
                      <div>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M12.0124 2.25005C12.7464 2.25851 13.4775 2.34331 14.1939 2.50309C14.5067 2.57283 14.7406 2.83356 14.7761 3.15201L14.9463 4.67886C15.0233 5.37991 15.6152 5.91089 16.3209 5.91163C16.5105 5.91193 16.6982 5.87243 16.8734 5.79488L18.2741 5.17961C18.5654 5.05164 18.9057 5.12141 19.1232 5.35367C20.1354 6.43469 20.8892 7.7312 21.3279 9.14563C21.4225 9.45063 21.3137 9.78208 21.0566 9.97155L19.8151 10.8866C19.461 11.1468 19.2518 11.5601 19.2518 11.9995C19.2518 12.439 19.461 12.8522 19.8159 13.1129L21.0585 14.0283C21.3156 14.2178 21.4246 14.5493 21.3299 14.8543C20.8914 16.2685 20.138 17.5649 19.1264 18.6461C18.9091 18.8784 18.569 18.9483 18.2777 18.8207L16.8714 18.2046C16.4691 18.0285 16.007 18.0543 15.6268 18.274C15.2466 18.4938 14.9935 18.8812 14.9452 19.3178L14.7761 20.8445C14.7413 21.1593 14.5124 21.4182 14.2043 21.4915C12.7558 21.8362 11.2467 21.8362 9.79828 21.4915C9.49015 21.4182 9.26129 21.1593 9.22643 20.8445L9.0576 19.32C9.00802 18.8843 8.75459 18.498 8.37467 18.279C7.99475 18.06 7.53345 18.0343 7.13244 18.2094L5.72582 18.8257C5.43446 18.9533 5.09428 18.8833 4.87703 18.651C3.86487 17.5685 3.11144 16.2706 2.67344 14.8548C2.57911 14.5499 2.68811 14.2187 2.94509 14.0293L4.18842 13.1134C4.54256 12.8532 4.75172 12.44 4.75172 12.0005C4.75172 11.5611 4.54256 11.1478 4.18796 10.8873L2.94541 9.9729C2.68804 9.7835 2.57894 9.45183 2.67361 9.14663C3.11236 7.7322 3.86619 6.43569 4.87837 5.35467C5.09584 5.12241 5.43618 5.05264 5.72749 5.18061L7.12786 5.79577C7.53081 5.97261 7.99404 5.9459 8.37601 5.72274C8.75633 5.50214 9.00953 5.11427 9.05841 4.67769L9.22849 3.15201C9.26401 2.8334 9.49811 2.57259 9.81105 2.50299C10.5283 2.34347 11.2602 2.2587 12.0124 2.25005ZM12.0126 3.74995C11.5586 3.75529 11.1058 3.79448 10.6581 3.86706L10.5491 4.84423C10.4473 5.75373 9.92028 6.56107 9.13066 7.01908C8.33622 7.48322 7.36761 7.53908 6.52483 7.16922L5.62654 6.77461C5.0546 7.46878 4.59938 8.2514 4.27877 9.09173L5.07656 9.67884C5.81537 10.2217 6.25172 11.0837 6.25172 12.0005C6.25172 12.9173 5.81537 13.7793 5.07734 14.3216L4.27829 14.9103C4.59863 15.7521 5.05392 16.5362 5.62625 17.2317L6.53138 16.8351C7.36947 16.4692 8.33149 16.5228 9.12377 16.9795C9.91606 17.4362 10.4446 18.2418 10.5482 19.1527L10.6572 20.1365C11.5468 20.2878 12.4557 20.2878 13.3453 20.1365L13.4543 19.1527C13.5551 18.2421 14.083 17.4337 14.8762 16.9753C15.6695 16.5169 16.6334 16.4631 17.473 16.8305L18.3775 17.2267C18.9493 16.5323 19.4044 15.7495 19.7249 14.909L18.927 14.3212C18.1882 13.7783 17.7518 12.9163 17.7518 11.9995C17.7518 11.0827 18.1882 10.2207 18.9261 9.67852L19.7229 9.09114C19.4023 8.25066 18.947 7.46789 18.375 6.77361L17.4785 7.16742C17.1132 7.32906 16.718 7.41225 16.3189 7.41163C14.8492 7.41009 13.6158 6.3036 13.4554 4.84388L13.3464 3.86675C12.9009 3.79425 12.4529 3.75517 12.0126 3.74995ZM11.9999 8.25C14.071 8.25 15.7499 9.92893 15.7499 12C15.7499 14.0711 14.071 15.75 11.9999 15.75C9.92887 15.75 8.24994 14.0711 8.24994 12C8.24994 9.92893 9.92887 8.25 11.9999 8.25ZM11.9999 9.75C10.7573 9.75 9.74994 10.7574 9.74994 12C9.74994 13.2426 10.7573 14.25 11.9999 14.25C13.2426 14.25 14.2499 13.2426 14.2499 12C14.2499 10.7574 13.2426 9.75 11.9999 9.75Z"/>
                        </svg>
                      </div>
                    </button>
                    <button (click)="onDeleteDataset(i)" class="w-10 text-alert-error px-2 h-10 hover:bg-mono-10">
                      <div>
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                          <path
                            d="M12 1.75C13.733 1.75 15.1492 3.10645 15.2449 4.81558L15.25 5H20.5C20.9142 5 21.25 5.33579 21.25 5.75C21.25 6.1297 20.9678 6.44349 20.6018 6.49315L20.5 6.5H19.704L18.4239 19.5192C18.2912 20.8683 17.1984 21.91 15.8626 21.9945L15.6871 22H8.31293C6.95734 22 5.81365 21.0145 5.59883 19.6934L5.57614 19.5192L4.295 6.5H3.5C3.1203 6.5 2.80651 6.21785 2.75685 5.85177L2.75 5.75C2.75 5.3703 3.03215 5.05651 3.39823 5.00685L3.5 5H8.75C8.75 3.20507 10.2051 1.75 12 1.75ZM18.197 6.5H5.802L7.06893 19.3724C7.12768 19.9696 7.60033 20.4343 8.18585 20.4936L8.31293 20.5H15.6871C16.2872 20.5 16.7959 20.0751 16.9123 19.4982L16.9311 19.3724L18.197 6.5ZM13.75 9.25C14.1297 9.25 14.4435 9.53215 14.4932 9.89823L14.5 10V17C14.5 17.4142 14.1642 17.75 13.75 17.75C13.3703 17.75 13.0565 17.4678 13.0068 17.1018L13 17V10C13 9.58579 13.3358 9.25 13.75 9.25ZM10.25 9.25C10.6297 9.25 10.9435 9.53215 10.9932 9.89823L11 10V17C11 17.4142 10.6642 17.75 10.25 17.75C9.8703 17.75 9.55651 17.4678 9.50685 17.1018L9.5 17V10C9.5 9.58579 9.83579 9.25 10.25 9.25ZM12 3.25C11.0818 3.25 10.3288 3.95711 10.2558 4.85647L10.25 5H13.75C13.75 4.0335 12.9665 3.25 12 3.25Z"
                            fill="#CA1C25"/>
                        </svg>
                      </div>
                    </button>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <app-footer></app-footer>
  </ng-container>
</app-layout>

<!--Create/Edit Dataset-->
<app-dataset-create-edit *ngIf="showCreateDataset" (onSubmit)="returnHome($event)"
                         [dataset]="selectedDataset"></app-dataset-create-edit>
<!--Create/Edit Dataset-->

<!--Block Page-->
<app-block-page [show]="isBlockPage"></app-block-page>
<!--Block Page-->

<!--Config Dataset-->
<app-dataset-config-list *ngIf="showConfig" [dataset]="selectedDataset"></app-dataset-config-list>
<!--Config Dataset-->

<ec-toast [toastStyle]="toastStyle"></ec-toast>

<!--Confirmation Modal-->
<app-confirmation-modal *ngIf="showDelete" (stateEvent)="deleteDataset($event)"></app-confirmation-modal>
<!--Confirmation Modal-->


