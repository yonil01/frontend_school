{"ast":null,"code":"import _asyncToGenerator from \"D:\\\\Repositories\\\\Trabajo\\\\ecatch-web-config\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@app/core/services/local-storage/local-storage.service\";\nexport class ComponentGuard {\n  constructor(_router, _localStorageService) {\n    this._router = _router;\n    this._localStorageService = _localStorageService;\n  }\n\n  canActivate(next, state) {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      const modules = _this._localStorageService.getModules();\n\n      let components = modules.map(item => item.components);\n      components = components.filter(c => c);\n      const component = components.some(item => {\n        return item.some(com => com.url_front === state.url);\n      });\n\n      if (component) {\n        return true;\n      } else {\n        yield _this._router.navigateByUrl('');\n        return false;\n      }\n    })();\n  }\n\n}\n\nComponentGuard.ɵfac = function ComponentGuard_Factory(t) {\n  return new (t || ComponentGuard)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.LocalStorageService));\n};\n\nComponentGuard.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n  token: ComponentGuard,\n  factory: ComponentGuard.ɵfac,\n  providedIn: 'root'\n});","map":{"version":3,"sources":["D:/Repositories/Trabajo/ecatch-web-config/src/app/core/services/guards/component.guard.ts"],"names":["i0","i1","i2","ComponentGuard","constructor","_router","_localStorageService","canActivate","next","state","modules","getModules","components","map","item","filter","c","component","some","com","url_front","url","navigateByUrl","ɵfac","ComponentGuard_Factory","t","ɵɵinject","Router","LocalStorageService","ɵprov","ɵɵdefineInjectable","token","factory","providedIn"],"mappings":";AAAA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,OAAO,KAAKC,EAAZ,MAAoB,wDAApB;AACA,OAAO,MAAMC,cAAN,CAAqB;AACxBC,EAAAA,WAAW,CAACC,OAAD,EAAUC,oBAAV,EAAgC;AACvC,SAAKD,OAAL,GAAeA,OAAf;AACA,SAAKC,oBAAL,GAA4BA,oBAA5B;AACH;;AACKC,EAAAA,WAAW,CAACC,IAAD,EAAOC,KAAP,EAAc;AAAA;;AAAA;AAC3B,YAAMC,OAAO,GAAG,KAAI,CAACJ,oBAAL,CAA0BK,UAA1B,EAAhB;;AACA,UAAIC,UAAU,GAAGF,OAAO,CAACG,GAAR,CAAaC,IAAD,IAAUA,IAAI,CAACF,UAA3B,CAAjB;AACAA,MAAAA,UAAU,GAAGA,UAAU,CAACG,MAAX,CAAmBC,CAAD,IAAOA,CAAzB,CAAb;AACA,YAAMC,SAAS,GAAGL,UAAU,CAACM,IAAX,CAAiBJ,IAAD,IAAU;AACxC,eAAOA,IAAI,CAACI,IAAL,CAAWC,GAAD,IAASA,GAAG,CAACC,SAAJ,KAAkBX,KAAK,CAACY,GAA3C,CAAP;AACH,OAFiB,CAAlB;;AAGA,UAAIJ,SAAJ,EAAe;AACX,eAAO,IAAP;AACH,OAFD,MAGK;AACD,cAAM,KAAI,CAACZ,OAAL,CAAaiB,aAAb,CAA2B,EAA3B,CAAN;AACA,eAAO,KAAP;AACH;AAb0B;AAc9B;;AAnBuB;;AAqB5BnB,cAAc,CAACoB,IAAf,GAAsB,SAASC,sBAAT,CAAgCC,CAAhC,EAAmC;AAAE,SAAO,KAAKA,CAAC,IAAItB,cAAV,EAA0BH,EAAE,CAAC0B,QAAH,CAAYzB,EAAE,CAAC0B,MAAf,CAA1B,EAAkD3B,EAAE,CAAC0B,QAAH,CAAYxB,EAAE,CAAC0B,mBAAf,CAAlD,CAAP;AAAgG,CAA3J;;AACAzB,cAAc,CAAC0B,KAAf,GAAuB,aAAc7B,EAAE,CAAC8B,kBAAH,CAAsB;AAAEC,EAAAA,KAAK,EAAE5B,cAAT;AAAyB6B,EAAAA,OAAO,EAAE7B,cAAc,CAACoB,IAAjD;AAAuDU,EAAAA,UAAU,EAAE;AAAnE,CAAtB,CAArC","sourcesContent":["import * as i0 from \"@angular/core\";\r\nimport * as i1 from \"@angular/router\";\r\nimport * as i2 from \"@app/core/services/local-storage/local-storage.service\";\r\nexport class ComponentGuard {\r\n    constructor(_router, _localStorageService) {\r\n        this._router = _router;\r\n        this._localStorageService = _localStorageService;\r\n    }\r\n    async canActivate(next, state) {\r\n        const modules = this._localStorageService.getModules();\r\n        let components = modules.map((item) => item.components);\r\n        components = components.filter((c) => c);\r\n        const component = components.some((item) => {\r\n            return item.some((com) => com.url_front === state.url);\r\n        });\r\n        if (component) {\r\n            return true;\r\n        }\r\n        else {\r\n            await this._router.navigateByUrl('');\r\n            return false;\r\n        }\r\n    }\r\n}\r\nComponentGuard.ɵfac = function ComponentGuard_Factory(t) { return new (t || ComponentGuard)(i0.ɵɵinject(i1.Router), i0.ɵɵinject(i2.LocalStorageService)); };\r\nComponentGuard.ɵprov = /*@__PURE__*/ i0.ɵɵdefineInjectable({ token: ComponentGuard, factory: ComponentGuard.ɵfac, providedIn: 'root' });\r\n"]},"metadata":{},"sourceType":"module"}